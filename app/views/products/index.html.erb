<div class="container mt-4">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h1>Listado de productos</h1>
    <a href="<%= root_path %>" class="btn btn-primary">
      <i class="bi bi-arrow-left"></i> Volver
    </a>
  </div>

  <%= link_to 'Nuevo Producto', new_product_path, class: 'btn btn-success mb-3' %>

  <table class="table table-striped">
    <thead>
      <tr>
        <th>Nombre</th>
        <th>Descripción</th>
        <th>Precio</th>
        <th>Stock</th>
        <th>Bodega</th>
        <th>Acciones</th>
      </tr>
    </thead>
    <tbody>
      <% @products.each do |product| %>
        <tr>
          <td><%= product.name %></td>
          <td><%= product.description %></td>
          <td><%= number_to_currency(product.price) %></td>
          <td><%= product.stock %></td>
          <td><%= product.warehouse&.name || 'No asignada' %></td>
          <td>
            <%= link_to 'Ver', product_path(product), class: "btn btn-info btn-sm" %>
            <%= link_to 'Editar', edit_product_path(product), class: "btn btn-warning btn-sm" %>
            <%= link_to 'Eliminar', product_path(product), method: :delete, data: { confirm: "¿Seguro que quieres eliminar este producto?" }, class: "btn btn-danger btn-sm" %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>
